workflow: "Adaptive layouts playground (Android v3)"
principles:
  - "One commit per task."
  - "Respect depends_on strictly."
  - "Changes must stay within module_scope."
  - "Verify each task with the provided verify steps."
  - "Create PR with the provided commit message."

milestone:
  - name: "設定画面事前準備"
    description: "設定画面でグローバル変数の切り替え領域を作成する"
    tasks:
        - id: "global-variable"
          goal: ":feature:settings を追加し、設定画面の土台を作成する"
          module_scope: [":feature:settings", ":config"]
          actions:
          - "configモジュールを追加する"
          - "すべてのモジュールからconfigモジュールに依存を追加する"
          - "Configオブジェクトを作成し、アプリのフラグをダミーで定義する"
          verify:
          - "Module builds"
          commit: "feat(settings): add settings feature module with placeholder screen"
  - name: "navigation-adaptive, navigation-not-adaptiveモジュールの作成"
    description: "NavigationSuiteScaffoldと通常のScaffoldのサンプルを作成する"
    tasks:
        - id: "navigation-baseline"
          goal: "モジュール構成の準備"
          module_scope: ["navigation-base, navigation-adaptive, navigation-not-adaptive, navigation"]
          depends_on: []
          actions:
          - "navigation-adaptiveモジュール,navigation-not-adaptiveモジュールを追加。既存のnavigationモジュールをnavigation-baseにリネーム"
          - "navigation-baseには他二つから共通に呼び出すコードを残す。AppNavHostが該当"
          - "navigation-not-adaptiveは現状の実装をそのまま移植しつつ、navigation-baseのAppNavHostを呼び出す"
          - "appモジュールから すべてのnavigationモジュール併存する"
          verify:
          - "Module builds"
          commit: "feat(navigation-not-adaptive): add navigation module with navigation-base"
        - id: "navigation-adaptive"
          goal: "NavigationSuiteScaffoldを利用したサンプルを作成"
          module_scope: ["navigation-adaptive", "app", "config"]
          depends_on: ["navigation-baseline"]
          actions:
            - "NavigationSuiteScaffoldを利用したサンプルを navigation-adaptiveモジュールに作成。NavHostはAppNavHostを使用"
            - "appモジュールにて、configのフラグを参照し、adaptive版とnot-adaptive版の切り替えを実装"
          example: 
